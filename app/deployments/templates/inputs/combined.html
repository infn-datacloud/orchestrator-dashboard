<select class="js-example-basic-single js-states form-control" id="{{key}}" name="{{key}}" data-action="removeOnSubmit" onchange="setfields(this)" {{mode}} required>
	<option value="" disabled selected>--Select--</option>
	{% for constraint in value.constraints %}
		<option value="{{constraint['value']}}" data-values="{{constraint['set']}}">{{constraint['label']}}</option>
	{% endfor %}
</select>

<script>

function setfields(elem) {
    let sel = $(elem).find('option:selected');
    if (sel) {
        let dt = sel.data('values');
        if (typeof dt !== 'undefined' && (typeof dt === 'string' || dt instanceof String)) {
            let values = dt.replace(/'/g, '"');
            let obj = JSON.parse(values);
            Object.keys(obj).forEach(function (key) {
                $("#" + key).val(obj[key]);
            })
        }
    }
}

</script>

