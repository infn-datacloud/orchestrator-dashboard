{% extends "base.html" %}
{% block content %}

<div class="container-fluid">
    <br>
    <div class="card shadow mb-4">
        <div class="card-body">
            <div class="dashboard-template-header">
                <div class="dashboard-template-image">
                    <i class="fas fa-info-circle"></i>
                </div>
                <div class="dashboard-template-title">
                    Info
                </div>
            </div>

            <ul class="nav nav-tabs">
                <!--
                <li class="nav-item"><a class="nav-link active" data-toggle="tab" href="#app_info">
                    <i class="fas fa-info-circle"></i>&nbsp;Application</a></li>
                -->
                <li class="nav-item"><a class="nav-link active" data-toggle="tab" href="#conf_endpoints">
                    <i class="fas fa-network-wired"></i>&nbsp;Infrastructure Endpoints</a></li>
            </ul>

            <div class="tab-content">
                <!--
                <div class="tab-pane fade show active" id=app_info>
                    <br>
                    PaaS Dashboard
                    <br>
                    Application version:
                    <br>
                    Database version: {{ dbversion }}
                    <br>
                    <br>
                    Created by I.N.F.N. - Istituto Nazionale di Fisica Nucleare
                </div>
                -->
                <div class="tab-pane fade show active" id=conf_endpoints>
                    <br>
                    <div class="table-responsive">
                        <table id="tableServices" class="table table-bordered table-striped" width="100%" cellspacing="0">
                            <thead>
                                <tr>
                                    <!-- <th>id</th>-->
                                    <th>Service</th>
                                    <th>Endpoint</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Identity and Access Management (IAM)</td>
                                    <td>{{ iam_url }}</td>
                                </tr>
                                <tr>
                                    <td>PaaS Orchestrator</td>
                                    <td>{{ orchestrator_url }}</td>
                                </tr>
                                <tr>
                                    <td>Infrastructure Manager (IM)</td>
                                    <td>{{ orchestrator_conf['im_url'] }}</td>
                                </tr>
                                {% if orchestrator_conf['slam_url'] is not none %}
								<tr>
                                    <td>SLA Manager (SLAM)</td>
                                    <td>{{ orchestrator_conf['slam_url'] }}</td>
                                </tr>
                                {% endif %}
                                {% if orchestrator_conf['cmdb_url'] is not none %}
								<tr>
                                    <td>Configuration Management DB (CMDB)</td>
                                    <td>{{ orchestrator_conf['cmdb_url'] }}</td>
                                </tr>
                                {% endif %}
                                {% if orchestrator_conf['fed_reg_url'] is not none %}
								<tr>
                                    <td>Federation Registry (Fed-Reg)</td>
                                    <td>{{ orchestrator_conf['fed_reg_url'] }}</td>
                                </tr>
                                {% endif %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>

$('#tableServices').dataTable( {
    "responsive": true,
    "order": [],
    "columnDefs": [ {
      "targets"  : 'no-sort',
      "orderable": false,
    }],
    "order": [[ 1, "asc" ]]
});

</script>

{% endblock %}
